{
    "type": "object",
    "properties": {
        "street_address": {"type": "string"},
        "country": {
            "default": "United States of America",
            "enum": ["United States of America", "Canada", "Netherlands"]
        }
    },
    "allOf": [
        {
            "if": {
                "properties": {
                    "country": {"const": "United States of America"}
                }
            },
            "then": {
                "properties": {
                    "postal_code": {"pattern": "[0-9]{5}(-[0-9]{4})?"}
                }
            }
        },
        {
            "if": {
                "properties": {"country": {"const": "Canada"}},
                "required": ["country"]
            },
            "then": {
                "properties": {
                    "postal_code": {
                        "pattern": "[A-Z][0-9][A-Z] [0-9][A-Z][0-9]"
                    }
                }
            }
        },
        {
            "if": {
                "properties": {"country": {"const": "Netherlands"}},
                "required": ["country"]
            },
            "then": {
                "properties": {
                    "postal_code": {"pattern": "[0-9]{4} [A-Z]{2}"}
                }
            }
        }
    ]
}
# - # - # - #
an object:
* with the following properties:
  - `street_address`: a string value
  - `country`: one of ['United States of America', 'Canada', 'Netherlands']
* all of the following:
  - if:
    * with the following properties:
      - `country`: specifically 'United States of America'
  - then:
    * with the following properties:
      - `postal_code`: pattern: '[0-9]{5}(-[0-9]{4})?'
  - if:
    * with the following properties:
      - `country`: specifically 'Canada'
    * required properties: ['country']
  - then:
    * with the following properties:
      - `postal_code`: pattern: '[A-Z][0-9][A-Z] [0-9][A-Z][0-9]'
  - if:
    * with the following properties:
      - `country`: specifically 'Netherlands'
    * required properties: ['country']
  - then:
    * with the following properties:
      - `postal_code`: pattern: '[0-9]{4} [A-Z]{2}'
